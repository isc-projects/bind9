<!--
 - Copyright (C) 2004, 2005 Internet Systems Consortium, Inc. ("ISC")
 - Copyright (C) 2000, 2001, 2003 Internet Software Consortium.
 - 
 - Permission to use, copy, modify, and distribute this software for any
 - purpose with or without fee is hereby granted, provided that the above
 - copyright notice and this permission notice appear in all copies.
 - 
 - THE SOFTWARE IS PROVIDED "AS IS" AND ISC DISCLAIMS ALL WARRANTIES WITH
 - REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
 - AND FITNESS. IN NO EVENT SHALL ISC BE LIABLE FOR ANY SPECIAL, DIRECT,
 - INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
 - LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE
 - OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
 - PERFORMANCE OF THIS SOFTWARE.
-->
<!-- $Id: dnssec-makekeyset.html,v 1.4.2.13 2006/04/23 10:10:08 marka Exp $ -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>dnssec-makekeyset</title>
<meta name="generator" content="DocBook XSL Stylesheets V1.69.1">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="refentry" lang="en">
<a name="id2462968"></a><div class="titlepage"></div>
<div class="refnamediv">
<h2>Name</h2>
<p><span class="application">dnssec-makekeyset</span> &#8212; DNSSEC zone signing tool</p>
</div>
<div class="refsynopsisdiv">
<h2>Synopsis</h2>
<div class="cmdsynopsis"><p><code class="command">dnssec-makekeyset</code>  [<code class="option">-a</code>] [<code class="option">-s <em class="replaceable"><code>start-time</code></em></code>] [<code class="option">-e <em class="replaceable"><code>end-time</code></em></code>] [<code class="option">-h</code>] [<code class="option">-p</code>] [<code class="option">-r <em class="replaceable"><code>randomdev</code></em></code>] [<code class="option">-t</code><em class="replaceable"><code>ttl</code></em>] [<code class="option">-v <em class="replaceable"><code>level</code></em></code>] {key...}</p></div>
</div>
<div class="refsect1" lang="en">
<a name="id2524466"></a><h2>DESCRIPTION</h2>
<p>
        <span><strong class="command">dnssec-makekeyset</strong></span> generates a key set from one
	or more keys created by <span><strong class="command">dnssec-keygen</strong></span>.  It creates
	a file containing a KEY record for each key, and self-signs the key
	set with each zone key.  The output file is of the form
	<code class="filename">keyset-nnnn.</code>, where <code class="filename">nnnn</code>
	is the zone name.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2524489"></a><h2>OPTIONS</h2>
<div class="variablelist"><dl>
<dt><span class="term">-a</span></dt>
<dd><p>
	      Verify all generated signatures.
	  </p></dd>
<dt><span class="term">-s <em class="replaceable"><code>start-time</code></em></span></dt>
<dd><p>
	       Specify the date and time when the generated SIG records
	       become valid.  This can be either an absolute or relative
	       time.  An absolute start time is indicated by a number
	       in YYYYMMDDHHMMSS notation; 20000530144500 denotes
	       14:45:00 UTC on May 30th, 2000.  A relative start time is
	       indicated by +N, which is N seconds from the current time.
	       If no <code class="option">start-time</code> is specified, the current
	       time is used.
	  </p></dd>
<dt><span class="term">-e <em class="replaceable"><code>end-time</code></em></span></dt>
<dd><p>
	       Specify the date and time when the generated SIG records
	       expire.  As with <code class="option">start-time</code>, an absolute
	       time is indicated in YYYYMMDDHHMMSS notation.  A time relative
	       to the start time is indicated with +N, which is N seconds from
	       the start time.  A time relative to the current time is
	       indicated with now+N.  If no <code class="option">end-time</code> is
	       specified, 30 days from the start time is used as a default.
	  </p></dd>
<dt><span class="term">-h</span></dt>
<dd><p>
	       Prints a short summary of the options and arguments to
	       <span><strong class="command">dnssec-makekeyset</strong></span>.
	  </p></dd>
<dt><span class="term">-p</span></dt>
<dd><p>
	       Use pseudo-random data when signing the zone.  This is faster,
	       but less secure, than using real random data.  This option
	       may be useful when signing large zones or when the entropy
	       source is limited.
	  </p></dd>
<dt><span class="term">-r <em class="replaceable"><code>randomdev</code></em></span></dt>
<dd><p>
	       Specifies the source of randomness.  If the operating
	       system does not provide a <code class="filename">/dev/random</code>
	       or equivalent device, the default source of randomness
	       is keyboard input.  <code class="filename">randomdev</code> specifies
	       the name of a character device or file containing random
	       data to be used instead of the default.  The special value
	       <code class="filename">keyboard</code> indicates that keyboard
	       input should be used.
	  </p></dd>
<dt><span class="term">-t <em class="replaceable"><code>ttl</code></em></span></dt>
<dd><p>
	       Specify the TTL (time to live) of the KEY and SIG records.
	       The default is 3600 seconds.
	  </p></dd>
<dt><span class="term">-v <em class="replaceable"><code>level</code></em></span></dt>
<dd><p>
	       Sets the debugging level.
	  </p></dd>
<dt><span class="term">key</span></dt>
<dd><p>
	       The list of keys to be included in the keyset file.  These keys
	       are expressed in the form <code class="filename">Knnnn.+aaa+iiiii</code>
	       as generated by <span><strong class="command">dnssec-keygen</strong></span>.
	  </p></dd>
</dl></div>
</div>
<div class="refsect1" lang="en">
<a name="id2525351"></a><h2>EXAMPLE</h2>
<p>
        The following command generates a keyset containing the DSA key for
	<strong class="userinput"><code>example.com</code></strong> generated in the
	<span><strong class="command">dnssec-keygen</strong></span> man page.
    </p>
<p>
        <strong class="userinput"><code>dnssec-makekeyset -t 86400 -s 20000701120000 -e +2592000 Kexample.com.+003+26160</code></strong>
    </p>
<p>
        In this example, <span><strong class="command">dnssec-makekeyset</strong></span> creates
	the file <code class="filename">keyset-example.com.</code>.  This file
	contains the specified key and a self-generated signature.
    </p>
<p>
        The DNS administrator for <strong class="userinput"><code>example.com</code></strong> could
	send <code class="filename">keyset-example.com.</code> to the DNS
	administrator for <strong class="userinput"><code>.com</code></strong> for signing, if the
	.com zone is DNSSEC-aware and the administrators of the two zones
	have some mechanism for authenticating each other and exchanging
	the keys and signatures securely.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2525397"></a><h2>SEE ALSO</h2>
<p>
      <span class="citerefentry"><span class="refentrytitle">dnssec-keygen</span>(8)</span>,
      <span class="citerefentry"><span class="refentrytitle">dnssec-signkey</span>(8)</span>,
      <em class="citetitle">BIND 9 Administrator Reference Manual</em>,
      <em class="citetitle">RFC 2535</em>.
    </p>
</div>
<div class="refsect1" lang="en">
<a name="id2525433"></a><h2>AUTHOR</h2>
<p>
        <span class="corpauthor">Internet Systems Consortium</span>
    </p>
</div>
</div></body>
</html>
