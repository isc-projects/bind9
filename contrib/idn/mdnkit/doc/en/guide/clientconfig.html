<!doctype html public "-//IETF//DTD HTML 2.0//EN">
<!-- $Id: clientconfig.html,v 1.1 2001/03/05 12:58:01 tale Exp $ -->
<html>
<head>
<title>Configuring Your Clients</title>
<meta http-equiv="Content-Type" content="text/html; charset=Shift_JIS">
</head>

<body>
<h1><a name="clientconfig">クライアント側の設定</a></h1>
<h1><a name="clientconfig"> Client configuration</a></h1>
<p>
DNS Proxy Server (dnsproxy) は、基本的には
多言語ドメイン名に対応していないクライアントから
多言語化対応したDNSサーバを利用できるようにするものです。
<p>
The DNS Proxy Server (dnsproxy) enables clients that basically do not support multilingual domain names the use of multilingual compatible DNS servers. 
<blockquote>
ある手法の多言語ドメイン名に対応しているクライアントから
他の手法で多言語化対応したDNSサーバを利用するためにも使用できます。
</blockquote>
<blockquote>
This enables clients that use a specific type of multilingual domain name support procedure to access a DNS server with a different multilingual support procedure.
</blockquote>
<p>
実際にあるクライアントで多言語ドメイン名を使うことができるかどうかは、
そのクライアントがドメイン名をどのように扱うかによります。
クライアントが、ドメイン名を、クライアント側のエンコーディングで
なにもチェック／加工しないで使用しているなら、
dnsproxyを経由することによって、多言語ドメイン名が利用可能になります。
しかし、クライアント側でドメイン名のシンタックスを厳密にチェックしていたり、
ある種の変換を行なっているような場合には、dnsproxyは役に立ちません。
<p>
Whether or not multlingual domain names can be used with a specific client depends on how that client handles domain names.
When a client uses domain names without checking or processing the encoding, multilingual domain names can be used via dnsproxy. 
But if the domain name syntax is carefully checked or conversion is performed on the client side, dnsproxy is not useful.
<p>
ここでは、いくつかの代表的なクライアントについて、
dnsproxyによる多言語ドメイン名が使うことができるかどうか、
どうすれば多言語ドメイン名を使うことができるようになるか、
を説明します。
<p>
This document will identify a number of major clients that will allow multilingual domain names when used with dnsproxy or what you have to do to use multilingual domain names.
<p>

<hr>

<h2>UNIXのアプリケーション</h2>
<h2>UNIX applications</h2>
<p>

<h3>resolverの問題</h3>
<h3>resolver problems</h3>
<p>
UNIXの場合、DNSへの要求は、多くの場合resolverを経由して送られます。
しかし、標準的なresolverはnon-ASCIIのドメイン名を受付けません。
この問題に対処するため、mDNkitにはbin8のresolver
(およびnslookup、named)を8-bit throughにするためのパッチが
付属しています。まずは、bind8にこのパッチを適用し、
8-bit throughのresolverを使って再リンクしてください。
詳しくは<a href="install.html">インストールガイド</a>の
<a href="install.html#preparation">前準備</a>、
<a href="install.html#bind">bind 用パッチの適用とインストール</a>を
ご覧ください。
<p>
UNIX often sends DNS queries via a resolver.
The problem is that standard resolvers do not accept non-ASCII domain names.
To cope with this problem, mDNkit is provided with a patch that makes the bind8 resolver (nslookup and named) 8-bit through. First, install this patch in bind8 and use the 8-bit through resolver to relink.
For details, refer to <a href="install.html#preparation">Preparations</a> and <a href="install.html#bind">Applying and Installing the Bind Patch</a> in the <a href="install.html">Installation Guide</a>.
<p>

<h3>nslookup</h3>
<p>
標準的なnslookupはnon-ASCIIのドメイン名を受付けません。
mDNkitのbind8への8-bit throughパッチを適用して作成された
nslookupなら、多言語ドメイン名を使用することが可能になります。
詳しくは<a href="install.html">インストールガイド</a>の
<a href="install.html#preparation">前準備</a>、
<a href="install.html#bind">bind 用パッチの適用とインストール</a>を
ご覧ください。
<p>
Standard inslookup does not support non-ASCII domain names.
nslookup generated by applying the bind8 8-bit through patch in mDNkit can use multilingual domain names.
For details, refer to <a href="install.html#preparation">Preparations</a> and <a href="install.html#bind">Applying and Installing the Bind Patch</a> in the <a href="install.html">Installation Guide</a>.

<h3>Squid</h3>
<p>
Squid経由でWebにアクセスするような場合には、non-ASCII文字を含む
ドメイン名はsquidによってエラーとされます。
mDNkitにはsquidを8-bit through にする
(シンタックスチェックを外す)パッチが含まれています。
これを適用したsquidであれば、多言語ドメイン名を受付けるようになります。
詳しくは<a href="install.html">インストールガイド</a>の
<a href="install.html#preparation">前準備</a>、
<a href="install.html#squid">squid 用パッチの適用とインストール</a>を
ご覧ください。
<p>
When the Web is accessed via Squid, domain names that contain non-ASCII characters generate an error.
mDNkit includes a patch that makes squid 8-bit through (by removing the syntax check). 

squid with this patch installed accepts multilingual domain names.
For details, refer to <a href="install.html#preparation">Preparations</a> and <a href="install.html#bind">Applying and Installing the squid Patch</a> in the <a href="install.html">Installation Guide</a>.

<h3>Netscape</h3>
<p>
残念ながら、入力時点でnon-ASCII文字は拒否されてしまいます。
<p>
Unfortunately, non-ASCII characters are rejected when entered.
<p>

<hr>

<h2>Windowsのアプリケーション</h2>
<h2>Windows applications</h2>
<p>
Windowsのresolver(WINSOCK)は、non-ASCIIのドメイン名を通すようです。
クライアント内でのチェック、変換が行なわれなければ問題なく
多言語ドメイン名を使うことができます。通常は
<p>
The Windows resolver (WINSOCK) passes non-ASCII domain names.
So long as no checks or conversions are performed in the client, multilingual domain names can be used without a problem. Usually,
<pre>
    client-translation . Shift_JIS
</pre>
とすればOKです。
<p>is OK.
<p>

<h3>nslookup</h3>
<p>
残念ながら、ホスト名の入力時点で、non-ASCII文字を含むホスト名は
拒否されるようです。ls による一覧表示は動作します。
<p>
Unfortunately, domain names that contain non-ASCII characters are rejected upon entry. ls works as usual. 

<h3>Netscape Communicator</h3>
<p>
Version 4.7 は問題なく動作しました。
<p>
Version 4.7 works without any problems.
<p>
ただ、HTTPプロキシサーバを使われている場合には、その
プロキシサーバが多言語ドメイン名に対応しているかどうかが
問題になりますのでご注意ください。
<p>However, when an HTTP proxy server is used, operation depends on whether or not that proxy server supports multilingual domain names.
<p>

<h3>Internet Explrore</h3>
<p>
IEには多言語ドメイン名への対応が一部含まれています。
<p>
Some IE features support multilingual domain names.
<pre>
    ツール
        インターネットオプション
	    いつもUTF-8としてURLを送信する
</pre>
<pre>
    tool
        Internet option
	    URLs are always sent as UTF-8
</pre>
しかし、これを使うと、余分なところまでUTF-8で
エンコードしてしまうようで、dnsproxyでは使用できません。
逆に、これをオフにして、
<br>However, this function encodes more than is required with the result that dnsproxy cannot be used. Instead, turn it off,
<pre>
    client-translation . Shift_JIS
</pre>
とすれば、dnsproxy経由で多言語ドメイン名が使えるようになります。
<br>then multilingual domain names can be used via dnsproxy.
<p>
ですが、IEの場合には、webページ内に埋め込まれたURLについては、
そのページのエンコーディングに合わせたエンコーディングに変換して
DNSの問合せを行なうようになっていますので、Shift_JIS以外で
記述されたWebページ上の多言語ドメイン名についてはクエリーが
失敗してしまいます。
<p>
But for URLs embedded in a web page IE converts to encoding that suits the encoding on that page and bases DNS queries on this so entries that use characters other than Shift_JIS fail.

</body>
</html>
